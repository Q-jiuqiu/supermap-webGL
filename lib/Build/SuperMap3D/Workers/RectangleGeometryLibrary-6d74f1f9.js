define(["exports","./Cartographic-cd471038","./when-f4cab1fd","./Check-5cf5e906","./buildModuleUrl-26ebe74f","./Math-d934ba6b","./GeometryAttribute-acc7fc74","./Cartesian2-94d75d5d"],(function(t,n,a,r,e,o,s,i){"use strict";var h=Math.cos,g=Math.sin,u=Math.sqrt,c={computePosition:function(t,n,r,e,o,s,i){var c=n.radiiSquared,l=t.nwCorner,d=t.boundingRectangle,C=l.latitude-t.granYCos*e+o*t.granXSin,S=h(C),w=g(C),f=c.z*w,X=l.longitude+e*t.granYSin+o*t.granXCos,Y=S*h(X),O=S*g(X),v=c.x*Y,_=c.y*O,M=u(v*Y+_*O+f*w);if(s.x=v/M,s.y=_/M,s.z=f/M,r){var p=t.stNwCorner;a.e(p)?(C=p.latitude-t.stGranYCos*e+o*t.stGranXSin,X=p.longitude+e*t.stGranYSin+o*t.stGranXCos,i.x=(X-t.stWest)*t.lonScalar,i.y=(C-t.stSouth)*t.latScalar):(i.x=(X-d.west)*t.lonScalar,i.y=(C-d.south)*t.latScalar)}}},l=new s.f,d=new n.o,C=new n.a,S=new n.o,w=new e.n;function f(t,a,r,e,o,i,h){var g=Math.cos(a),u=e*g,c=r*g,C=Math.sin(a),f=e*C,X=r*C;d=w.project(t,d),d=n.o.subtract(d,S,d);var Y=s.f.fromRotation(a,l);d=s.f.multiplyByVector(Y,d,d),d=n.o.add(d,S,d),i-=1,h-=1;var O=(t=w.unproject(d,t)).latitude,v=O+i*X,_=O-u*h,M=O-u*h+i*X,p=Math.max(O,v,_,M),R=Math.min(O,v,_,M),W=t.longitude,b=W+i*c,m=W+h*f,G=W+h*f+i*c;return{north:p,south:R,east:Math.max(W,b,m,G),west:Math.min(W,b,m,G),granYCos:u,granYSin:f,granXCos:c,granXSin:X,nwCorner:t}}c.computeOptions=function(t,n,a,e,s,h,g){var u=t.east,c=t.west,l=t.north,d=t.south,X=!1,Y=!1;l===o.e.PI_OVER_TWO&&(X=!0),d===-o.e.PI_OVER_TWO&&(Y=!0);var O,v,_,M,p,R=l-d;_=(p=c>u?o.e.TWO_PI-c+u:u-c)/((O=Math.ceil(p/n)+1)-1),M=R/((v=Math.ceil(R/n)+1)-1);var W=i.h.northwest(t,h),b=i.h.center(t,C);(0!==a||0!==e)&&(b.longitude<W.longitude&&(b.longitude+=o.e.TWO_PI),S=w.project(b,S));var m=M,G=_,I=i.h.clone(t,s),P={granYCos:m,granYSin:0,granXCos:G,granXSin:0,nwCorner:W,boundingRectangle:I,width:O,height:v,northCap:X,southCap:Y};if(0!==a){var T=f(W,a,_,M,0,O,v);if(l=T.north,d=T.south,u=T.east,c=T.west,l<-o.e.PI_OVER_TWO||l>o.e.PI_OVER_TWO||d<-o.e.PI_OVER_TWO||d>o.e.PI_OVER_TWO)throw new r.t("Rotated rectangle is invalid.  It crosses over either the north or south pole.");P.granYCos=T.granYCos,P.granYSin=T.granYSin,P.granXCos=T.granXCos,P.granXSin=T.granXSin,I.north=l,I.south=d,I.east=u,I.west=c}if(0!==e){a-=e;var x=i.h.northwest(I,g),y=f(x,a,_,M,0,O,v);P.stGranYCos=y.granYCos,P.stGranXCos=y.granXCos,P.stGranYSin=y.granYSin,P.stGranXSin=y.granXSin,P.stNwCorner=x,P.stWest=y.west,P.stSouth=y.south}return P},t.j=c}));
