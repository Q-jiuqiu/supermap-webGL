define(["./buildModuleUrl-26ebe74f","./Cartesian2-94d75d5d","./Cartographic-cd471038","./Check-5cf5e906","./when-f4cab1fd","./Math-d934ba6b","./ArcType-31298545","./arrayRemoveDuplicates-cf1d78b2","./ComponentDatatype-509ef64d","./EllipsoidGeodesic-1fd478b9","./EllipsoidRhumbLine-f8cea347","./EncodedCartesian3-f851e70d","./GeometryAttribute-acc7fc74","./IntersectionTests-74b7d43a","./FeatureDetection-fb5abd84","./Plane-07f90ae1","./WebMercatorProjection-ac4417ee","./Event-73ce694f","./RuntimeError-e6b88f4d","./WebGLConstants-42651efd","./Cartesian4-d3cdbab5"],(function(e,t,o,n,i,a,r,s,l,c,u,h,p,d,g,f,w,m,v,y,_){"use strict";function T(o){o=i.u(o,{}),this._ellipsoid=i.u(o.ellipsoid,t.t.WGS84),this._rectangle=i.u(o.rectangle,t.h.MAX_VALUE),this._projection=new e.n(this._ellipsoid),this._numberOfLevelZeroTilesX=i.u(o.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=i.u(o.numberOfLevelZeroTilesY,1),this._customDPI=o.customDPI,this._scaleDenominators=o.scaleDenominators,this._tileWidth=i.u(o.tileWidth,256),this._tileHeight=i.u(o.tileHeight,256),this._beginLevel=i.u(o.beginLevel,0)}Object.defineProperties(T.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}},beginLevel:{get:function(){return this._beginLevel}}}),T.prototype.getNumberOfXTilesAtLevel=function(e){if(i.e(this._customDPI)&&i.e(this._scaleDenominators)){var t=this.calculateResolution(e),o=this._tileWidth*t.x;return Math.ceil(this._rectangle.width/o)}return this._numberOfLevelZeroTilesX<<e-this._beginLevel},T.prototype.getNumberOfYTilesAtLevel=function(e){if(i.e(this._customDPI)&&i.e(this._scaleDenominators)){var t=this.calculateResolution(e),o=this._tileHeight*t.y;return Math.ceil(this._rectangle.height/o)}return this._numberOfLevelZeroTilesY<<e-this._beginLevel},T.prototype.rectangleToNativeRectangle=function(e,o){n.o.defined("rectangle",e);var r=a.e.toDegrees(e.west),s=a.e.toDegrees(e.south),l=a.e.toDegrees(e.east),c=a.e.toDegrees(e.north);return i.e(o)?(o.west=r,o.south=s,o.east=l,o.north=c,o):new t.h(r,s,l,c)},T.prototype.tileXYToNativeRectangle=function(e,t,o,n){var i=this.tileXYToRectangle(e,t,o,n);return i.west=a.e.toDegrees(i.west),i.south=a.e.toDegrees(i.south),i.east=a.e.toDegrees(i.east),i.north=a.e.toDegrees(i.north),i},T.prototype.tileXYToRectangle=function(e,o,n,a){var r=this._rectangle;if(i.e(this._customDPI)&&i.e(this._scaleDenominators)){var s=this.calculateResolution(n),l=r.west+e*this._tileWidth*s.x,c=r.west+(e+1)*this._tileWidth*s.x,u=r.north-o*this._tileHeight*s.y,h=r.north-(o+1)*this._tileHeight*s.y;return i.e(a)?(a.west=l,a.south=h,a.east=c,a.north=u,a):new t.h(l,h,c,u)}var p=this.getNumberOfXTilesAtLevel(n),d=this.getNumberOfYTilesAtLevel(n),g=r.width/p,f=(l=e*g+r.west,c=(e+1)*g+r.west,r.height/d);u=r.north-o*f,h=r.north-(o+1)*f;return i.e(a)||(a=new t.h(l,h,c,u)),a.west=l,a.south=h,a.east=c,a.north=u,a},T.prototype.positionToTileXY=function(e,o,n){var r=this._rectangle;if(t.h.contains(r,e)){var s=this.getNumberOfXTilesAtLevel(o),l=this.getNumberOfYTilesAtLevel(o),c=r.width/s,u=r.height/l;if(i.e(this._customDPI)&&i.e(this._scaleDenominators)){var h=this.calculateResolution(o);c=this._tileWidth*h.x,u=this._tileHeight*h.y}var p=e.longitude;r.east<r.west&&(p+=a.e.TWO_PI);var d=(p-r.west)/c|0;d>=s&&(d=s-1);var g=(r.north-e.latitude)/u|0;return g>=l&&(g=l-1),i.e(n)?(n.x=d,n.y=g,n):new t.o(d,g)}},T.prototype.calculateResolution=function(e){var o=.0254*this._scaleDenominators[e-this._beginLevel]/this._customDPI.x,n=.0254*this._scaleDenominators[e-this._beginLevel]/this._customDPI.y,i=t.t.WGS84.maximumRadius;return new t.o(o/i,n/i)};var E=new o.o,b=new o.o,O=new o.a,L=new o.o,I=new o.o,P=new e.i,D=new T,k=[new o.a,new o.a,new o.a,new o.a],N=new t.o,x={};function A(e){o.a.fromRadians(e.east,e.north,0,k[0]),o.a.fromRadians(e.west,e.north,0,k[1]),o.a.fromRadians(e.east,e.south,0,k[2]),o.a.fromRadians(e.west,e.south,0,k[3]);var t,n=0,i=0,a=0,r=0,s=x._terrainHeightsMaxLevel;for(t=0;t<=s;++t){for(var l=!1,c=0;c<4;++c){var u=k[c];if(D.positionToTileXY(u,t,N),0===c)a=N.x,r=N.y;else if(a!==N.x||r!==N.y){l=!0;break}}if(l)break;n=a,i=r}if(0!==t)return{x:n,y:i,level:t>s?s:t-1}}x.initialize=function(){var t=x._initPromise;return i.e(t)||(t=e.t.fetchJson(e.n$1("Assets/approximateTerrainHeights.json")).then((function(e){x._terrainHeights=e})),x._initPromise=t),t},x.getMinimumMaximumHeights=function(e,a){if(n.o.defined("rectangle",e),!i.e(x._terrainHeights))throw new n.t("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");a=i.u(a,t.t.WGS84);var r=A(e),s=x._defaultMinTerrainHeight,l=x._defaultMaxTerrainHeight;if(i.e(r)){var c=r.level+"-"+r.x+"-"+r.y,u=x._terrainHeights[c];i.e(u)&&(s=u[0],l=u[1]),a.cartographicToCartesian(t.h.northeast(e,O),E),a.cartographicToCartesian(t.h.southwest(e,O),b),o.o.midpoint(b,E,L);var h=a.scaleToGeodeticSurface(L,I);if(i.e(h)){var p=o.o.distance(L,h);s=Math.min(s,-p)}else s=x._defaultMinTerrainHeight}return{minimumTerrainHeight:s=Math.max(x._defaultMinTerrainHeight,s),maximumTerrainHeight:l}},x.getBoundingSphere=function(o,a){if(n.o.defined("rectangle",o),!i.e(x._terrainHeights))throw new n.t("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");a=i.u(a,t.t.WGS84);var r=A(o),s=x._defaultMaxTerrainHeight;if(i.e(r)){var l=r.level+"-"+r.x+"-"+r.y,c=x._terrainHeights[l];i.e(c)&&(s=c[1])}var u=e.i.fromRectangle3D(o,a,0);return e.i.fromRectangle3D(o,a,s,P),e.i.union(u,P,u)},x._terrainHeightsMaxLevel=6,x._defaultMaxTerrainHeight=9e3,x._defaultMinTerrainHeight=-1e5,x._terrainHeights=void 0,x._initPromise=void 0,Object.defineProperties(x,{initialized:{get:function(){return i.e(x._terrainHeights)}}});var S=[e.n,w.t],H=S.length,C=Math.cos(a.e.toRadians(30)),M=Math.cos(a.e.toRadians(150));function R(e){var o=(e=i.u(e,i.u.EMPTY_OBJECT)).positions;if(!i.e(o)||o.length<2)throw new n.t("At least two positions are required.");if(i.e(e.arcType)&&e.arcType!==r.L.GEODESIC&&e.arcType!==r.L.RHUMB)throw new n.t("Valid options for arcType are ArcType.GEODESIC and ArcType.RHUMB.");this.width=i.u(e.width,1),this._positions=o,this.granularity=i.u(e.granularity,9999),this.loop=i.u(e.loop,!1),this.arcType=i.u(e.arcType,r.L.GEODESIC),this._ellipsoid=i.u(e.ellipsoid,t.t.WGS84),this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(R.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+t.t.packedLength+1+1}}}),R.setProjectionAndEllipsoid=function(e,t){for(var o=0,n=0;n<H;n++)if(t instanceof S[n]){o=n;break}e._projectionIndex=o,e._ellipsoid=t.ellipsoid};var z=new o.o,j=new o.o,Y=new o.o;function G(e,t,n,i,a){var r=V(i,e,0,z),s=V(i,e,n,j),l=V(i,t,0,Y),c=Z(s,r,j),u=Z(l,r,Y);return o.o.cross(u,c,a),o.o.normalize(a,a)}var W=new o.a,F=new o.o,B=new o.o,q=new o.o;function X(e,t,n,i,a,s,l,h,p,d,g){if(0!==a){var f;s===r.L.GEODESIC?f=new c.E(e,t,l):s===r.L.RHUMB&&(f=new u.P(e,t,l));var w=f.surfaceDistance;if(!(w<a))for(var m=G(e,t,i,l,q),v=Math.ceil(w/a),y=w/v,_=y,T=v-1,E=h.length,b=0;b<T;b++){var O=f.interpolateUsingSurfaceDistance(_,W),L=V(l,O,n,F),I=V(l,O,i,B);o.o.pack(m,h,E),o.o.pack(L,p,E),o.o.pack(I,d,E),g.push(O.latitude),g.push(O.longitude),E+=3,_+=y}}}var U=new o.a;function V(e,t,n,i){return o.a.clone(t,U),U.height=n,o.a.toCartesian(U,e,i)}function Z(e,t,n){return o.o.subtract(e,t,n),o.o.normalize(n,n),n}R.pack=function(e,a,r){n.o.typeOf.object("value",e),n.o.defined("array",a);var s=i.u(r,0),l=e._positions,c=l.length;a[s++]=c;for(var u=0;u<c;++u){var h=l[u];o.o.pack(h,a,s),s+=3}return a[s++]=e.granularity,a[s++]=e.loop?1:0,a[s++]=e.arcType,t.t.pack(e._ellipsoid,a,s),s+=t.t.packedLength,a[s++]=e._projectionIndex,a[s++]=e._scene3DOnly?1:0,a},R.unpack=function(e,a,r){n.o.defined("array",e);for(var s=i.u(a,0),l=e[s++],c=new Array(l),u=0;u<l;u++)c[u]=o.o.unpack(e,s),s+=3;var h=e[s++],p=1===e[s++],d=e[s++],g=t.t.unpack(e,s);s+=t.t.packedLength;var f=e[s++],w=1===e[s++];if(!i.e(r)){var m=new R({positions:c,granularity:h,loop:p,arcType:d,ellipsoid:g});return m._projectionIndex=f,m._scene3DOnly=w,m}return r._positions=c,r.granularity=h,r.loop=p,r.arcType=d,r._ellipsoid=g,r._projectionIndex=f,r._scene3DOnly=w,r};var $=new o.o,J=new o.o,Q=new o.o,K=new o.o,ee=new f.o(o.o.UNIT_X,0),te=new o.o;function oe(e,t,n,i,r){var s=Z(n,t,te),l=Z(e,t,$),c=Z(i,t,J),u=o.o.cross(s,l,K);u=o.o.normalize(u,u);var h=f.o.fromPointNormal(t,u,ee),p=f.o.getPointDistance(h,i);if(a.e.equalsEpsilon(p,0,a.e.EPSILON7))return o.o.clone(u,r),r;r=o.o.add(c,l,r),r=o.o.normalize(r,r);var d=o.o.cross(s,r,Q);return o.o.normalize(d,d),o.o.cross(d,s,r),o.o.normalize(r,r),o.o.dot(c,d)<0&&(r=o.o.negate(r,r)),r}var ne=f.o.fromPointNormal(o.o.ZERO,o.o.UNIT_Y),ie=new o.o,ae=new o.o,re=new o.o,se=new o.o,le=new o.o,ce=new o.o,ue=new o.a,he=new o.a,pe=new o.a;R.createGeometry=function(e){var t,n,l=!e._scene3DOnly,c=e.loop,h=e._ellipsoid,p=e.granularity,g=e.arcType,f=new S[e._projectionIndex](h),w=1e3,m=e._positions,v=m.length;2===v&&(c=!1);var y,_,T,E,b,O,L,I=new u.P(void 0,void 0,h),P=[m[0]];for(n=0;n<v-1;n++)y=m[n],_=m[n+1],b=d.g.lineSegmentPlane(y,_,ne,ce),i.e(b)&&!o.o.equalsEpsilon(b,y,a.e.EPSILON7)&&!o.o.equalsEpsilon(b,_,a.e.EPSILON7)&&(e.arcType===r.L.GEODESIC?P.push(o.o.clone(b)):e.arcType===r.L.RHUMB&&(L=h.cartesianToCartographic(b,ue).longitude,T=h.cartesianToCartographic(y,ue),E=h.cartesianToCartographic(_,he),I.setEndPoints(T,E),O=I.findIntersectionWithLongitude(L,pe),b=h.cartographicToCartesian(O,ce),i.e(b)&&!o.o.equalsEpsilon(b,y,a.e.EPSILON7)&&!o.o.equalsEpsilon(b,_,a.e.EPSILON7)&&P.push(o.o.clone(b)))),P.push(_);c&&(y=m[v-1],_=m[0],b=d.g.lineSegmentPlane(y,_,ne,ce),i.e(b)&&!o.o.equalsEpsilon(b,y,a.e.EPSILON7)&&!o.o.equalsEpsilon(b,_,a.e.EPSILON7)&&(e.arcType===r.L.GEODESIC?P.push(o.o.clone(b)):e.arcType===r.L.RHUMB&&(L=h.cartesianToCartographic(b,ue).longitude,T=h.cartesianToCartographic(y,ue),E=h.cartesianToCartographic(_,he),I.setEndPoints(T,E),O=I.findIntersectionWithLongitude(L,pe),b=h.cartographicToCartesian(O,ce),i.e(b)&&!o.o.equalsEpsilon(b,y,a.e.EPSILON7)&&!o.o.equalsEpsilon(b,_,a.e.EPSILON7)&&P.push(o.o.clone(b)))));var D=P.length,k=new Array(D);for(n=0;n<D;n++){var N=o.a.fromCartesian(P[n],h);N.height=0,k[n]=N}if(!((D=(k=s.D(k,o.a.equalsEpsilon)).length)<2)){var x=[],A=[],H=[],C=[],M=ie,R=ae,z=re,j=se,Y=le,W=k[0],F=k[1];for(M=V(h,k[D-1],0,M),j=V(h,F,0,j),R=V(h,W,0,R),z=V(h,W,w,z),Y=c?oe(M,R,z,j,Y):G(W,F,w,h,Y),o.o.pack(Y,A,0),o.o.pack(R,H,0),o.o.pack(z,C,0),x.push(W.latitude),x.push(W.longitude),X(W,F,0,w,p,g,h,A,H,C,x),n=1;n<D-1;++n){M=o.o.clone(R,M),R=o.o.clone(j,R);var B=k[n];V(h,B,w,z),V(h,k[n+1],0,j),oe(M,R,z,j,Y),t=A.length,o.o.pack(Y,A,t),o.o.pack(R,H,t),o.o.pack(z,C,t),x.push(B.latitude),x.push(B.longitude),X(k[n],k[n+1],0,w,p,g,h,A,H,C,x)}var q=k[D-1],U=k[D-2];if(R=V(h,q,0,R),z=V(h,q,w,z),c){var Z=k[0];Y=oe(M=V(h,U,0,M),R,z,j=V(h,Z,0,j),Y)}else Y=G(U,q,w,h,Y);if(t=A.length,o.o.pack(Y,A,t),o.o.pack(R,H,t),o.o.pack(z,C,t),x.push(q.latitude),x.push(q.longitude),c){for(X(q,W,0,w,p,g,h,A,H,C,x),t=A.length,n=0;n<3;++n)A[t+n]=A[n],H[t+n]=H[n],C[t+n]=C[n];x.push(W.latitude),x.push(W.longitude)}return at(c,f,H,C,A,x,l)}};var de=new o.o,ge=new g.p$1,fe=new p.n;function we(e,t,n,i){var r=Z(n,t,de),s=o.o.dot(r,e);if(s>C||s<M){var l=Z(i,n,te),c=s<M?a.e.PI_OVER_TWO:-a.e.PI_OVER_TWO,u=p.n.fromAxisAngle(l,c,fe),h=g.p$1.fromQuaternion(u,ge);return g.p$1.multiplyByVector(h,e,e),!0}return!1}var me=new o.a,ve=new o.o,ye=new o.o;function _e(e,t,n,i,r){var s=o.a.toCartesian(t,e._ellipsoid,ve),l=o.o.add(s,n,ye),c=!1,u=e._ellipsoid,h=u.cartesianToCartographic(l,me);Math.abs(t.longitude-h.longitude)>a.e.PI_OVER_TWO&&(c=!0,l=o.o.subtract(s,n,ye),h=u.cartesianToCartographic(l,me)),h.height=0;var p=e.project(h,r);return(r=o.o.subtract(p,i,r)).z=0,r=o.o.normalize(r,r),c&&o.o.negate(r,r),r}var Te=new o.o,Ee=new o.o;function be(e,t,n,i,a,r){var s=o.o.subtract(t,e,Te);o.o.normalize(s,s);var l=n-0,c=o.o.multiplyByScalar(s,l,Ee);o.o.add(e,c,a);var u=i-1e3;c=o.o.multiplyByScalar(s,u,Ee),o.o.add(t,c,r)}var Oe=new o.o;function Le(e,t){var n=f.o.getPointDistance(ne,e),i=f.o.getPointDistance(ne,t),r=Oe;a.e.equalsEpsilon(n,0,a.e.EPSILON2)?(r=Z(t,e,r),o.o.multiplyByScalar(r,a.e.EPSILON2,r),o.o.add(e,r,e)):a.e.equalsEpsilon(i,0,a.e.EPSILON2)&&(r=Z(e,t,r),o.o.multiplyByScalar(r,a.e.EPSILON2,r),o.o.add(t,r,t))}function Ie(e,t){var o=Math.abs(e.longitude),n=Math.abs(t.longitude);if(a.e.equalsEpsilon(o,a.e.PI,a.e.EPSILON11)){var i=a.e.sign(t.longitude);return e.longitude=i*(o-a.e.EPSILON11),1}if(a.e.equalsEpsilon(n,a.e.PI,a.e.EPSILON11)){var r=a.e.sign(e.longitude);return t.longitude=r*(n-a.e.EPSILON11),2}return 0}var Pe=new o.a,De=new o.a,ke=new o.o,Ne=new o.o,xe=new o.o,Ae=new o.o,Se=new o.o,He=new o.o,Ce=[Pe,De],Me=new t.h,Re=new o.o,ze=new o.o,je=new o.o,Ye=new o.o,Ge=new o.o,We=new o.o,Fe=new o.o,Be=new o.o,qe=new o.o,Xe=new o.o,Ue=new o.o,Ve=new o.o,Ze=new o.o,$e=new o.o,Je=new h.i,Qe=new h.i,Ke=new o.o,et=new o.o,tt=new o.o,ot=[new e.i,new e.i],nt=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],it=nt.length;function at(n,i,r,s,c,u,d){var g,f,w,m,v,y,_=i._ellipsoid,T=r.length/3-1,E=8*T,b=4*E,O=36*T,L=E>65535?new Uint32Array(O):new Uint16Array(O),I=new Float64Array(3*E),P=new Float32Array(b),D=new Float32Array(b),k=new Float32Array(b),N=new Float32Array(b),A=new Float32Array(b);d&&(w=new Float32Array(b),m=new Float32Array(b),v=new Float32Array(b),y=new Float32Array(2*E));var S=u.length/2,H=0,M=Pe;M.height=0;var R=De;R.height=0;var z=ke,j=Ne;if(d)for(f=0,g=1;g<S;g++)M.latitude=u[f],M.longitude=u[f+1],R.latitude=u[f+2],R.longitude=u[f+3],z=i.project(M,z),j=i.project(R,j),H+=o.o.distance(z,j),f+=2;var Y=s.length/3;j=o.o.unpack(s,0,j);var G,W=0;for(f=3,g=1;g<Y;g++)z=o.o.clone(j,z),j=o.o.unpack(s,f,j),W+=o.o.distance(z,j),f+=3;f=3;var F=0,B=0,q=0,X=0,U=!1,V=o.o.unpack(r,0,Ae),$=o.o.unpack(s,0,Ne),J=o.o.unpack(c,0,He);n&&(we(J,o.o.unpack(r,r.length-6,xe),V,$)&&(J=o.o.negate(J,J)));var Q=0,K=0,ee=0;for(g=0;g<T;g++){var te,oe,ne,ie,ae=o.o.clone(V,xe),re=o.o.clone($,ke),se=o.o.clone(J,Se);if(U&&(se=o.o.negate(se,se)),V=o.o.unpack(r,f,Ae),$=o.o.unpack(s,f,Ne),U=we(J=o.o.unpack(c,f,He),ae,V,$),M.latitude=u[F],M.longitude=u[F+1],R.latitude=u[F+2],R.longitude=u[F+3],d){var le=Ie(M,R);te=i.project(M,Ge);var ce=Z(oe=i.project(R,We),te,Ke);ce.y=Math.abs(ce.y),ne=Fe,ie=Be,0===le||o.o.dot(ce,o.o.UNIT_Y)>C?(ne=_e(i,M,se,te,Fe),ie=_e(i,R,J,oe,Be)):1===le?(ie=_e(i,R,J,oe,Be),ne.x=0,ne.y=a.e.sign(M.longitude-Math.abs(R.longitude)),ne.z=0):(ne=_e(i,M,se,te,Fe),ie.x=0,ie.y=a.e.sign(M.longitude-R.longitude),ie.z=0)}var ue=o.o.distance(re,$),he=h.i.fromCartesian(ae,Je),pe=o.o.subtract(V,ae,qe),de=o.o.normalize(pe,Ve),ge=o.o.subtract(re,ae,Xe);ge=o.o.normalize(ge,ge);var fe=o.o.cross(de,ge,Ve);fe=o.o.normalize(fe,fe);var me=o.o.cross(ge,se,Ze);me=o.o.normalize(me,me);var ve=o.o.subtract($,V,Ue);ve=o.o.normalize(ve,ve);var ye=o.o.cross(J,ve,$e);ye=o.o.normalize(ye,ye);var Te,Ee,Oe,at=ue/W,st=Q/W,lt=0,ct=0,ut=0;if(d){lt=o.o.distance(te,oe),Te=h.i.fromCartesian(te,Qe),Ee=o.o.subtract(oe,te,Ke);var ht=(Oe=o.o.normalize(Ee,et)).x;Oe.x=Oe.y,Oe.y=-ht,ct=lt/H,ut=K/H}for(G=0;G<8;G++){var pt=X+4*G,dt=B+2*G,gt=pt+3,ft=G<4?1:-1,wt=2===G||3===G||6===G||7===G?1:-1;o.o.pack(he.high,P,pt),P[gt]=pe.x,o.o.pack(he.low,D,pt),D[gt]=pe.y,o.o.pack(me,k,pt),k[gt]=pe.z,o.o.pack(ye,N,pt),N[gt]=at*ft,o.o.pack(fe,A,pt);var mt=st*wt;0===mt&&wt<0&&(mt=Number.POSITIVE_INFINITY),A[gt]=mt,d&&(w[pt]=Te.high.x,w[pt+1]=Te.high.y,w[pt+2]=Te.low.x,w[pt+3]=Te.low.y,v[pt]=-ne.y,v[pt+1]=ne.x,v[pt+2]=ie.y,v[pt+3]=-ie.x,m[pt]=Ee.x,m[pt+1]=Ee.y,m[pt+2]=Oe.x,m[pt+3]=Oe.y,y[dt]=ct*ft,0===(mt=ut*wt)&&wt<0&&(mt=Number.POSITIVE_INFINITY),y[dt+1]=mt)}var vt=je,yt=Ye,_t=Re,Tt=ze,Et=t.h.fromCartographicArray(Ce,Me),bt=x.getMinimumMaximumHeights(Et,_),Ot=bt.minimumTerrainHeight,Lt=bt.maximumTerrainHeight;ee+=Ot,ee+=Lt,be(ae,re,Ot,Lt,vt,_t),be(V,$,Ot,Lt,yt,Tt);var It=o.o.multiplyByScalar(fe,a.e.EPSILON5,tt);o.o.add(vt,It,vt),o.o.add(yt,It,yt),o.o.add(_t,It,_t),o.o.add(Tt,It,Tt),Le(vt,yt),Le(_t,Tt),o.o.pack(vt,I,q),o.o.pack(yt,I,q+3),o.o.pack(Tt,I,q+6),o.o.pack(_t,I,q+9),It=o.o.multiplyByScalar(fe,-2*a.e.EPSILON5,tt),o.o.add(vt,It,vt),o.o.add(yt,It,yt),o.o.add(_t,It,_t),o.o.add(Tt,It,Tt),Le(vt,yt),Le(_t,Tt),o.o.pack(vt,I,q+12),o.o.pack(yt,I,q+15),o.o.pack(Tt,I,q+18),o.o.pack(_t,I,q+21),F+=2,f+=3,B+=16,q+=24,X+=32,Q+=ue,K+=lt}f=0;var Pt=0;for(g=0;g<T;g++){for(G=0;G<it;G++)L[f+G]=nt[G]+Pt;Pt+=8,f+=it}var Dt=ot;e.i.fromVertices(r,o.o.ZERO,3,Dt[0]),e.i.fromVertices(s,o.o.ZERO,3,Dt[1]);var kt=e.i.fromBoundingSpheres(Dt);kt.radius+=ee/(2*T);var Nt={position:new p.o({componentDatatype:l.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:I}),startHiAndForwardOffsetX:rt(P),startLoAndForwardOffsetY:rt(D),startNormalAndForwardOffsetZ:rt(k),endNormalAndTextureCoordinateNormalizationX:rt(N),rightNormalAndTextureCoordinateNormalizationY:rt(A)};return d&&(Nt.startHiLo2D=rt(w),Nt.offsetAndRight2D=rt(m),Nt.startEndNormals2D=rt(v),Nt.texcoordNormalization2D=new p.o({componentDatatype:l.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:y})),new p.I({attributes:Nt,indices:L,boundingSphere:kt})}function rt(e){return new p.o({componentDatatype:l.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return R._projectNormal=_e,function(e,t){return x.initialize().then((function(){return i.e(t)&&(e=R.unpack(e,t)),R.createGeometry(e)}))}}));
