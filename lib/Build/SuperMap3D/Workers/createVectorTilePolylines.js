define(["./AttributeCompression-8bd8a380","./Cartographic-cd471038","./Cartesian2-94d75d5d","./IndexDatatype-1cff6ae5","./Math-d934ba6b","./createTaskProcessorWorker","./Check-5cf5e906","./when-f4cab1fd","./WebGLConstants-42651efd"],(function(a,r,e,n,t,o,u,f,c){"use strict";var s=32767,i=new r.a,p=new r.o;var d=new e.h,b=new e.t,w=new r.o,h={min:void 0,max:void 0};var y=new r.o,k=new r.o,v=new r.o,l=new r.o,A=new r.o;return o((function(o,u){var f=new Uint16Array(o.positions),c=new Uint16Array(o.widths),g=new Uint32Array(o.counts),x=new Uint16Array(o.batchIds);!function(a){a=new Float64Array(a);var n=0;h.min=a[n++],h.max=a[n++],e.h.unpack(a,n,d),n+=e.h.packedLength,e.t.unpack(a,n,b),n+=e.t.packedLength,r.o.unpack(a,n,w)}(o.packedBuffer);var D,I=b,m=w,E=function(e,n,o,u,f){var c=e.length/3,d=e.subarray(0,c),b=e.subarray(c,2*c),w=e.subarray(2*c,3*c);a.t.zigZagDeltaDecode(d,b,w);for(var h=new Float32Array(e.length),y=0;y<c;++y){var k=d[y],v=b[y],l=w[y],A=t.e.lerp(n.west,n.east,k/s),g=t.e.lerp(n.south,n.north,v/s),x=t.e.lerp(o,u,l/s),D=r.a.fromRadians(A,g,x,i),I=f.cartographicToCartesian(D,p);r.o.pack(I,h,3*y)}return h}(f,d,h.min,h.max,I),T=E.length/3,U=4*T-4,C=new Float32Array(3*U),F=new Float32Array(3*U),N=new Float32Array(3*U),P=new Float32Array(2*U),L=new Uint16Array(U),S=0,_=0,G=0,R=0,W=g.length;for(D=0;D<W;++D){for(var B=g[D],M=c[D],z=x[D],H=0;H<B;++H){var O;if(0===H){var Y=r.o.unpack(E,3*R,y),Z=r.o.unpack(E,3*(R+1),k);O=r.o.subtract(Y,Z,v),r.o.add(Y,O,O)}else O=r.o.unpack(E,3*(R+H-1),v);var j,q=r.o.unpack(E,3*(R+H),l);if(H===B-1){var J=r.o.unpack(E,3*(R+B-1),y),K=r.o.unpack(E,3*(R+B-2),k);j=r.o.subtract(J,K,A),r.o.add(J,j,j)}else j=r.o.unpack(E,3*(R+H+1),A);r.o.subtract(O,m,O),r.o.subtract(q,m,q),r.o.subtract(j,m,j);for(var Q=H===B-1?2:4,V=0===H?2:0;V<Q;++V){r.o.pack(q,C,S),r.o.pack(O,F,S),r.o.pack(j,N,S),S+=3;var X=V-2<0?-1:1;P[_++]=V%2*2-1,P[_++]=X*M,L[G++]=z}}R+=B}var $=n.IndexDatatype.createTypedArray(U,6*T-6),aa=0,ra=0;for(W=T-1,D=0;D<W;++D)$[ra++]=aa,$[ra++]=aa+2,$[ra++]=aa+1,$[ra++]=aa+1,$[ra++]=aa+2,$[ra++]=aa+3,aa+=4;return u.push(C.buffer,F.buffer,N.buffer),u.push(P.buffer,L.buffer,$.buffer),{indexDatatype:2===$.BYTES_PER_ELEMENT?n.IndexDatatype.UNSIGNED_SHORT:n.IndexDatatype.UNSIGNED_INT,currentPositions:C.buffer,previousPositions:F.buffer,nextPositions:N.buffer,expandAndWidth:P.buffer,batchIds:L.buffer,indices:$.buffer}}))}));
